# 第1弾プロトタイプ
テキストエリアから、HTMLを入力しボタンをクリックすることで、入力内容が画面に反映される。

## 処理実装について
現在は`HTML/CSS`と`JavaScript`で実装をしている。
~~JSはネイティブで使用しており、jQueryとどちらを使うかについてはのちに要検討。
HTMLの読み込みにはinnerHTMLを使用している。
たしかよろしくないはずなので、あとで処理を変更する~~

* jsでのHTMLエレメントの読み込み
    * `getElementBId()`ではなく`querySlector`を使用
* サニタイズ処理
    * 取得したHTMLソースコードは`DOMParser`を使用し、仮想DOMでHTMLオブジェクトに変換
    * スクリプトタグのエレメントを削除
    * `src属性・href属性`のうち、valueが`javascript:`や`data:`からはじまっているものと、`on～属性`を削除

## 次の課題
* サニタイズ部分の関数化
* CSS入力の実装とスタイル反映範囲の隔離

***

# 第2弾プロトタイプ
第1弾プロトタイプに、テキストエリアから、CSSを入力しボタンをクリックすることで、入力内容が画面に反映される。
また、サニタイズ処理を関数化する。

## 処理実装について
* サニタイズ機能を疎結合
    * `sanitizeHtml`関数にサニタイズ機能を分離
* CSSの読み込み
    * CSSを入力し読み込めるようにjsを記入（textareaから受け取ったHTMLの末尾にスタイルタグで囲んだCSSを追記する形）
* CSS読み込みの分離
    * shadowDOMを使用してshadowRootで分離（bodyセレクタを:hostセレクタに変更する）

## 次の課題
* リアルタイムプレビューにするかを要検討
    - 理由として、ボタンを押す手間はあるがリアルタイムにしてしまうと入力の度に処理が走ることと、
    　入力途中になると崩れたものがプレビューされてしまうので、デザインとしての側面ではよくないと感じる
    　しかし、教育面ではそっちのほうがいいとも思う。
    - アイデア（Gemini）：　ボタン押下式か、デバウンスを用いたリアルタイム式かの最終決定。
* デザインの保存機能
* UI/UXの調整
    - 一旦、左にソースコード入力欄（上にHTML、下にCSS、その下にCodeボタン）、右にISOのA判と同じ比率のプレビューエリアを実装
    - 2カラムレイアウト（エディタ / プレビュー）の採用。

第3弾では、UI/UXの調整を行うことにする。
